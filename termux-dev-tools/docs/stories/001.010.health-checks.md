# Story 1.10: Health Checks & Verification

## Status
- Approved

## Story
**As a** user who has just completed the installation,
**I want** the installer to run a final, comprehensive health check,
**so that** I can be confident that all components were installed and configured correctly.

## Acceptance Criteria
1. A verification script must be created and executed at the end of the main installation process.
2. The script must check the version of each installed CLI tool and report it.
3. The script must verify GitHub authentication is working (e.g., via `ssh -T git@github.com`).
4. The script must confirm that the new shell customizations (aliases, `PATH`) are active.
5. For each tool installed in the Ubuntu proot, the script must run a simple test command via its shim to ensure it's accessible.
6. The script must print a clear, concise summary report of all checks, indicating success or failure for each item.

## Tasks / Subtasks
- [ ] **Task 1: Create Verification Script (AC: #1)**
    - [ ] Create a new script, `scripts/verify-installation.sh`.
- [ ] **Task 2: Check CLI Versions (AC: #2)**
    - [ ] For each installed CLI, run `[command] --version` or a similar command and log the output.
- [ ] **Task 3: Verify GitHub Auth (AC: #3)**
    - [ ] Execute `ssh -T git@github.com` and check the output for the success message.
- [ ] **Task 4: Verify Shell Config (AC: #4)**
    - [ ] Check if the `PATH` contains the expected new directories.
    - [ ] Check if one of the new aliases is defined.
- [ ] **Task 5: Test Proot Shims (AC: #5)**
    - [ ] For each shim created, run a simple command like `[shim_name] --help` to test its accessibility.
- [ ] **Task 6: Generate Report (AC: #6)**
    - [ ] Use `echo` with color coding (e.g., green for success, red for failure) to create a final summary report.

## Dev Notes
- **Source Tree**: The main script will be `scripts/verify-installation.sh`.
- **User Experience**: This is a critical final step for user confidence. The report should be easy to read and immediately highlight any problems.
- **Non-Interactive**: This script should run without any user interaction.

### Testing
- **Test File Location**: `tests/test-verify-installation.sh`
- **Test Standards**: Mock the commands for each check to test the script's reporting logic.
- **Requirements**:
    - Test the success path where all checks pass.
    - Test a failure path where a CLI tool is not found.
    - Test a failure path where GitHub auth fails.
    - Test that the final report correctly reflects the status of each check.

## Change Log
| Date | Version | Description | Author |
|---|---|---|---|
| 2025-10-11 | 1.0 | Initial draft | Sarah (PO) |
